custom-name: Quest for Glory V - Dragon Fire - GOG - DxWnd
files:
- gogsetup: N/A:Please select the game Windows install file, available for  download
    from your GOG account page
- wrapper: https://freefr.dl.sourceforge.net/project/dxwnd/Latest%20build/v2_05_64_build.rar
game:
  arch: win64
  exe: drive_c/qfg5.bat
  prefix: $GAMEDIR
installer:
- task:
    arch: win64
    description: Creating WINE prefix
    name: create_prefix
    prefix: $GAMEDIR
- task:
    args: /SP- /SUPPRESSMSGBOXES /SILENT
    executable: gogsetup
    name: wineexec
    prefix: $GAMEDIR
- extract:
    dst: $GAMEDIR/drive_c/dxwnd
    file: wrapper
- write_config:
    data:
      target:
        cdvol0: 100
        codepage0: 0
        commitaddress0: 0
        commitlength0: 0
        coord0: 3
        country0: 0
        dflag0: 0
        dflagb0: 0
        filterid0: 0
        flag0: 673194017
        flagg0: 1207959568
        flagh0: 22
        flagi0: 136347652
        flagj0: 4224
        flagk0: 65540
        flagl0: 0
        flagm0: 0
        flagn0: 18350084
        flago0: 0
        flagp0: 8192
        flagq0: 0
        flagr0: 128
        flags0: 0
        flagt0: 0
        flagu0: 0
        icon0: 0000010001002020000001002000B410000016000000280000002000000040000000010020000300000080100000000000000000000000000000000000000000FF0000FF0000FF00000000000000000000000000000000000000000000000000000000000000000000002626260000195000001950000E0E0E00003196002557FF002557FF002557FF002557FF004A4A4A00B1E2FF008ED4FF00B1C7FF008ED4FF006BC6FF00004A7300808080008EABFF00808080009E9E9E002626260026262600565656006B8FFF00000000000000000000000000000000000000000000000000000000000E0E0E0026262600001950001A1A1A000E0E0E002557FF0025AAFF0025AAFF0025AAFF0025AAFF0000325000B1E2FF00B1C7FF00D4E3FF00B1E2FF008ED4FF00007AB9006B8FFF008ED4FF008EABFF009E9E9E0026262600323232006E6E6E006B8FFF00000000000000000000000000000000000000000000000000000000000E0E0E00001950001A1A1A000E0E0E001A1A1A002557FF002557FF0025AAFF0025AAFF000031960000000000B1E2FF00B1C7FF00D4E3FF00D4E3FF008ED4FF0048B8FF006BC6FF008ED4FF008ED4FF009E9E9E0026262600323232006E6E6E0048B8FF00000000000000000000000000000000000000000000000000000000001A1A1A000E0E0E000E0E0E0000257300000000000000000000257300003DB900001950000000000000000000B1E2FF00AAAAAA00D4E3FF00D4E3FF00B1E2FF006BC6FF006BC6FF008ED4FF00B1E2FF009E9E9E00262626003E3E3E008080800048B8FF000000000000000000000000000000000000000000000000000E0E0E000E0E0E000E0E0E000E0E0E00002573000000000000000000000000000000000000000000000000000E0E0E00D4F0FF006B8FFF00D4E3FF00D4F0FF00B1E2FF006BC6FF006BC6FF008ED4FF00B1E2FF00AAAAAA001A1A1A003E3E3E00808080006B8FFF000000000000000000000000000000000000000000000000001A1A1A00000000001A1A1A001A1A1A00003DB900000000000000000000257300002573000E0E0E000E0E0E0000000000B1C7FF006E6E6E00DADADA00F0FBFF00D4E3FF006BC6FF006BC6FF008ED4FF00B1E2FF00B6B6B600262626003E3E3E00868686006BC6FF0000000000000000000000000000000000000000000E0E0E001A1A1A000E0E0E001A1A1A00262626002557FF001A1A1A00000000000E0E0E002557FF002557FF002557FF002557FF00C0C0C00000629600B1C7FF00F2F2F200D4E3FF008ED4FF006BC6FF008ED4FF008ED4FF00B6B6B600262626003E3E3E00868686006B8FFF0000000000000000000000000000000000000000000E0E0E0000195000001950001A1A1A00001950002557FF000031960000000000000000001A1A1A0000195000004A730000629600B6B6B600004A7300AAAAAA00F2F2F200D4F0FF00B1E2FF006BC6FF008ED4FF008ED4FF00C0C0C000262626004A4A4A00868686006B8FFF0000000000000000000000000000000000000000000E0E0E0000257300262626000E0E0E00002573002557FF00003DB90000000000000000000E0E0E000E0E0E000000000000000000AAAAAA00004A730080808000D4E3FF00D4F0FF00B1E2FF008ED4FF008ED4FF008ED4FF00CECECE00262626004A4A4A00868686006B8FFF0000000000000000000000000000000000000000000E0E0E00002573000E0E0E000E0E0E000031960025AAFF0025AAFF002525FF00002573002557FF0025AAFF00003DB90026262600B6B6B600004A7300004A7300D4D4FF00F0FBFF00B1E2FF00B1E2FF006BC6FF008ED4FF00C0C0C000262626004A4A4A0086868600007AB90000000000000000000000000000000000000000001A1A1A00001950000E0E0E000E0E0E00003DB90025AAFF0048B8FF0025AAFF0025AAFF0025AAFF0048B8FF006BC6FF0000319600AAAAAA00004A7300004A73008EABFF00D4F0FF00B1E2FF00B1E2FF008ED4FF008ED4FF00C0C0C000262626004A4A4A00868686006B8FFF0000000000000000000000000000000000000000001A1A1A001A1A1A000E0E0E000E0E0E00003DB90025AAFF0048B8FF0048B8FF006BC6FF0048B8FF006BC6FF000031960000000000AAAAAA00004A7300003250006B8FFF00D4E3FF00B1E2FF00B1C7FF008ED4FF008ED4FF00C0C0C000262626004A4A4A007A7A7A006B8FFF0000000000000000000000000000000000000000001A1A1A000E0E0E000E0E0E000E0E0E000031960025AAFF0048B8FF006BC6FF008ED4FF008ED4FF008ED4FF001A1A1A000E0E0E00AAAAAA00004A73000032500000629600D4D4FF00B1C7FF00B1C7FF008ED4FF008ED4FF00C0C0C000262626004A4A4A007A7A7A006B8FFF000000000000000000000000000000000000000000262626001A1A1A000E0E0E001A1A1A00250073002557FF0025AAFF0048B8FF006BC6FF00B1E2FF008ED4FF000E0E0E000E0E0E00AAAAAA00004A7300004A7300004A73008EABFF00B1C7FF008ED4FF008ED4FF006BC6FF00B1C7FF00262626004A4A4A007A7A7A006B8FFF00000000000000000000000000000000000E0E0E0000325000002573000031960000257300003196002557FF002557FF0025AAFF0025AAFF006BC6FF0048B8FF000E0E0E000E0E0E009E9E9E00004A73003E3E3E00004A7300007AB9008EABFF008ED4FF008ED4FF006BC6FF00C0C0C000262626004A4A4A007A7A7A008EABFF000000000000000000000000001A1A1A0000325000003196000049DC002557FF002557FF002557FF0025AAFF0025AAFF0025AAFF0025AAFF0025AAFF0025AAFF00003DB900002573009E9E9E00004A730000325000006296006B8FFF006B8FFF008ED4FF008ED4FF006BC6FF00C0C0C000262626004A4A4A006E6E6E008ED4FF0000000000000000001A1A1A0000325000003196002557FF0025AAFF0025AAFF0025AAFF0025AAFF0025AAFF0025AAFF0025AAFF0025AAFF0025AAFF006BC6FF0048B8FF0025AAFF0092929200565656002626260000325000006296006B8FFF008EABFF008ED4FF008EABFF00C0C0C000262626003E3E3E007A7A7A008ED4FF00000000000000000026262600003196002557FF0025AAFF0025AAFF0025AAFF0048B8FF0048B8FF0025AAFF0025AAFF0025AAFF0025AAFF0025AAFF0048B8FF006BC6FF006BC6FF0080808000004A73002626260000325000004A73006B8FFF008EABFF008ED4FF008ED4FF00C0C0C000262626004A4A4A006E6E6E00B1C7FF00000000000000000000195000003DB900003DB90025AAFF0025AAFF0048B8FF0048B8FF0048B8FF0048B8FF0048B8FF0025AAFF0025AAFF002557FF0048B8FF0048B8FF006BC6FF007A7A7A00565656002626260000325000004A73004873FF008EABFF008ED4FF008ED4FF00C0C0C00032323200565656007A7A7A00B1C7FF00000000000000000000257300003196000025730048B8FF0048B8FF0048B8FF0048B8FF0048B8FF0048B8FF0025AAFF002557FF000049DC00003DB9002557FF0048B8FF008ED4FF0062626200565656002626260000325000007AB9006B8FFF006BC6FF00B1C7FF008EABFF00B1C7FF0056565600565656007A7A7A00B1C7FF00000000000E0E0E0000195000262626000025730048B8FF006BC6FF008ED4FF006BFFFF006BC6FF0048B8FF002525FF00002573000E0E0E001A1A1A000025730048FFFF008ED4FF00006296005656560000325000006296006B8FFF008EABFF006BC6FF00B1C7FF008EABFF00CECECE00868686006E6E6E0080808000CECECE00000000000E0E0E0000195000262626000025730048B8FF006BC6FF006BC6FF006BC6FF0025AAFF00002573000E0E0E000E0E0E000E0E0E000E0E0E000E0E0E000049DC006BC6FF00004A730056565600004A73006B8FFF004873FF006B8FFF006B8FFF00B1E2FF00C0C0C000B1C7FF00AAAAAA008080800086868600CECECE00000000000E0E0E001A1A1A001A1A1A000025730048B8FF0048B8FF0048B8FF000049DC00190050000E0E0E0000000000000000000000000000000000000000000E0E0E0048B8FF000062960056565600004A7300007AB900004A73004873FF006B8FFF00B1E2FF00C0C0C000B1C7FF00C0C0C000AAAAAA009E9E9E00CECECE00000000000E0E0E00000000000E0E0E002500730048B8FF0048B8FF000049DC000E0E0E000E0E0E00000000000E0E0E000000000000000000000000000E0E0E0000000000003DB900004A730062626200004A7300004A7300004A7300007AB9006B8FFF00B1E2FF00C0C0C000C0C0C000B1C7FF00B1E2FF008EABFF00C0C0C000000000000000000000000000001950001900500025AAFF0025AAFF0000195000000000000E0E0E000000000000000000000000001A1A1A002626260000000000000000001A1A1A00003196006E6E6E00004A730000325000004A7300006296006B8FFF00B1E2FF00B1C7FF00C0C0C000B1C7FF00D4E3FF00B1E2FF00D4E3FF00000000000000000026262600003DB9001A1A1A002557FF0048B8FF00002573001A1A1A000E0E0E000000000000000000000000000000000000000000000000000E0E0E0000195000002573006E6E6E000032500000325000004A7300006296006B8FFF00D4D4FF008EABFF00C0C0C000C0C0C000D4E3FF00B1E2FF00F2F2F20000000000000000001A1A1A0000257300001950000031960048B8FF002557FF0000257300001950001A1A1A000E0E0E000E0E0E000E0E0E000E0E0E001A1A1A001A1A1A000019500000195000808080000032500000325000004A7300006296006B8FFF00B1E2FF008EABFF00B6B6B600B6B6B600D4E3FF00D4E3FF00F2F2F200000000000000000000000000000000000E0E0E000032500048B8FF006BC6FF0025AAFF000049DC00003DB90000257300001950001A1A1A00001950001A1A1A00002573000025730000257300929292003E3E3E0026262600004A7300006296006B8FFF00B1E2FF006B8FFF00C0C0C00086868600D4E3FF00D4E3FF00F2F2F200000000000000000000000000000000001A1A1A002626260048B8FF008ED4FF00B1E2FF008ED4FF006BC6FF0048B8FF0025AAFF002557FF002557FF000049DC000049DC000000B900003196009E9E9E002626260026262600004A7300006296006B8FFF00B1E2FF008EABFF00C0C0C00062626200AAAAAA00DADADA00F2F2F200000000000000000000000000000000001A1A1A000025730025AAFF006BC6FF008ED4FF00B1E2FF008ED4FF006BC6FF006BC6FF0048B8FF0025AAFF002557FF0025AAFF002557FF00003DB9009E9E9E002626260026262600004A7300006296006B8FFF00B1E2FF008EABFF00C0C0C0003E3E3E006E6E6E00C0C0C000E6E6E6000000000000000000000000000000000000195000003DB90025AAFF0048B8FF006BC6FF008ED4FF008ED4FF006BC6FF0048B8FF0048B8FF0048B8FF0025AAFF0025AAFF0025AAFF000049DC00AAAAAA002626260026262600004A7300006296006B8FFF00B1E2FF008EABFF00B1C7FF003E3E3E0056565600AAAAAA00D4E3FF000000000000000000000000000E0E0E00001950002557FF0048B8FF0048B8FF0048B8FF006BC6FF008ED4FF008ED4FF006BC6FF0048B8FF0048B8FF0048B8FF0048B8FF0048B8FF002557FF007A7A7A002626260026262600004A7300006296006B8FFF00B1E2FF008EABFF00B1C7FF003E3E3E00565656008EABFF008ED4FF000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
        initresh0: 600
        initresw0: 800
        initts0: 0
        lang0: 0
        launchpath0: C:\GOG Games\Quest for Glory 5\QfG5.exe
        maxddinterface0: 7
        maxfps0: 0
        maxres0: -1
        monitorid0: -1
        path0: C:\GOG Games\Quest for Glory 5\QfG5.exe
        posx0: 50
        posy0: 50
        renderer0: 3
        scanline0: 0
        sizx0: 800
        sizy0: 600
        slowratio0: 2
        swapeffect0: 0
        tflag0: 0
        title0: Quest For Glory V
        ver0: 0
        winver0: 0
      window:
        posx: 707
        posy: 385
        showhelp: false
        sizx: 320
    file: $GAMEDIR/drive_c/dxwnd/dxwnd.ini
- write_file:
    content: 'c:

      cd \

      cd c:\dxwnd

      start dxwnd.exe

      cd "c:\gog games\Quest for Glory 5"

      start /w qfg5.exe

      taskkill /F /IM dxwnd.exe

      '
    file: $GAMEDIR/drive_c/qfg5.bat
- task:
    arch: win64
    key: csmt
    name: set_regedit
    path: HKEY_CURRENT_USER\Software\Wine\Direct3D\
    prefix: $GAMEDIR
    type: REG_DWORD
    value: '00000000'
- task:
    arch: win64
    key: background
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Colors\
    prefix: $GAMEDIR
    type: REG_SZ
    value: 0 0 0
- execute:
    command: cd "$GAMEDIR/drive_c/GOG Games/Quest for Glory 5"; rm -f -r gog* Support.ico
      webcache.zip ; mv "$GAMEDIR/drive_c/users/Public" "$GAMEDIR/drive_c/users/Public.bak";
wine:
  Desktop: true

