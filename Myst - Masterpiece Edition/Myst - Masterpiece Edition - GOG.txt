custom-name: Age of Empires I - CD
files:
- dxwnd: https://freefr.dl.sourceforge.net/project/dxwnd/Latest%20build/v2_05_30_build.rar
- scriptinstall: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Age%20of%20Empires/findaoe.sh
- scriptsound: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Age%20of%20Empires/soundtrack.bat
- scriptclean: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Age%20of%20Empires/clean.sh
- gnusox: https://freefr.dl.sourceforge.net/project/sox/sox/14.4.2/sox-14.4.2-win32.zip
- mp: https://freefr.dl.sourceforge.net/project/mplayer-win32/MPlayer%20and%20MEncoder/r38135%2Bgb272d5b9b6/MPlayer-generic-r38135%2Bgb272d5b9b6.7z
- grepbin: http://downloads.sourceforge.net/gnuwin32/grep-2.5.4-bin.zip
- grepdep: http://downloads.sourceforge.net/gnuwin32/grep-2.5.4-dep.zip
- updt: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Age%20of%20Empires/aoe1_update_1.0c_multi.zip
game:
  args: c:\\aoe1.bat
  exe: drive_c/windows/syswow64/wineconsole.exe
  prefix: $GAMEDIR
installer:
- task:
    arch: win64
    install_mono: false
    name: create_prefix
    prefix: $GAMEDIR
- task:
    app: winxp
    name: winetricks
    prefix: $GAMEDIR
- insert-disc:
    requires: empires.ico
- chmodx: scriptinstall
- execute:
    args: $DISC
    file: scriptinstall
- task:
    args: /desktop=AOEI,1024x780 $GAMEDIR/drive_c/tmp/aoeinstall.bat
    description: Installing Age of Empires I...
    executable: $GAMEDIR/drive_c/windows/explorer.exe
    name: wineexec
- extract:
    dst: $GAMEDIR/drive_c/dxwnd
    file: dxwnd
- write_config:
    data:
      target:
        cdvol0: 0
        codepage0: 0
        coord0: 3
        country0: 0
        dflag0: 0
        dflagb0: 0
        expert: 1
        fakec0: None
        faked0: None
        filterid0: 0
        flag0: 673185825
        flagg0: 1207959568
        flagh0: 22
        flagi0: 138444804
        flagj0: 4224
        flagk0: 65536
        flagl0: 1114112
        flagm0: 65536
        flagn0: 17825796
        flago0: 0
        flagp0: 8192
        flagq0: 0
        icon0: 0000010001002020000001002000B410000016000000280000002000000040000000010020000300000080100000000000000000000000000000000000000000FF0000FF0000FF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B5B5B500C6C6C600C6C6C600DEE7EF00DEE7EF00FFFFFF000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C6C6C600000000000000000000000000B5B5B500B5B5B500C6C6C600C6C6C600DEE7EF00FFFFFF00FFFFFF00FFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005A5A5A00B5B5B500B5B5B50000000000A5A5A500A5A5A500B5B5B500B5B5B500C6C6C600DEDEDE00DEDEDE00DEE7EF00FFFFFF00FFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000313131003131310031313100A5A5A500A5A5A500000000008080800080808000A5A5A500A5A5A500B5B5B500B5B5B500B5B5B500C6C6C600C6C6C600C6C6C600DEDEDE00DEDEDE000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000424242004242420031313100A5A5A500A5A5A500000000008080800080808000A5A5A500A5A5A500B5B5B500B5B5B500B5B5B500B5B5B500B5B5B500B5B5B500ADB5C600ADB5C600DEDEDE00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005A5A5A005A5A5A0031313100A5A5A500A5A5A500000000005A5A5A005A5A5A00A5A5A500A5A5A500B5B5B500B5B5B500B5B5B500B5B5B500A4A0A000A4A0A000A5A5A500A5A5A500A5A5A500DEDEDE00DEDEDE000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000031313100C6C6C600C6C6C600000808002121210021212100A5A5A500A5A5A500B5B5B500B5B5B500B5B5B500B5B5B500A4A0A000A4A0A0008C8C8C008C8C8C008C8C8C008C8C8C008C8C8C000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000031313100C6C6C600C6C6C6000008080000000000000000008C8C8C008C8C8C00B5B5B500B5B5B500B5B5B500B5B5B500A4A0A000A4A0A0008C8C8C008C8C8C006B6B6B006B6B6B006B6B6B00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002129290080808000808080000008080000000000000000006B6B6B006B6B6B00B5B5B500B5B5B500B5B5B500B5B5B500A4A0A000A4A0A0008C8C8C008C8C8C006B6B6B003131310031313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003131310080808000808080000008080000080800000808006B6B6B006B6B6B00B5B5B500B5B5B500B5B5B500B5B5B500A4A0A000A4A0A0008C8C8C008C8C8C006B6B6B0031313100313131000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021292900A5A5A500A5A5A5000808080008080800080808006B6B6B006B6B6B008C8C8C008C8C8C008C8C8C00B5B5B500B5B5B500B5B5B500A5A5A500A5A5A5006B6B6B006B6B6B006B6B6B00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005A5A5A00182121001821210008080800B5B5B500B5B5B5006B6B6B006B6B6B00080808001821210018212100080808006B6B6B006B6B6B00B5B5B500B5B5B5008C8C8C008C8C8C008C8C8C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000212121000808080008080800182121006B6B6B006B6B6B00B5B5B500B5B5B5006B6B6B00080808000808080042424200A5A5A500A5A5A5008C8C8C008C8C8C006B6B6B006B6B6B006B6B6B00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003131310031313100313131004242420080808000808080008C8C8C008C8C8C00B5B5B500B5B5B500B5B5B500C6C6C600B5B5B500B5B5B500B5B5B500B5B5B500A4A0A000A4A0A000A4A0A00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000212121003131310031313100424242008080800080808000A5A5A500A5A5A500C6C6C600DEDEDE00DEDEDE00DEDEDE00DEDEDE00DEDEDE00C6CEDE00C6CEDE00B5B5B500DEDEDE00DEDEDE00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003131310031313100313131005A5A5A008C8C8C008C8C8C00A5A5A500A5A5A500DEDEDE00DEDEDE00DEDEDE00EFEFEF00DEDEDE00DEDEDE00DEDEDE00DEDEDE00B5B5B500C6C6C600C6C6C600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003131310031313100313131005A5A5A008C8C8C008C8C8C00A5A5A500A5A5A500DEDEDE00DEDEDE00DEDEDE00EFEFEF00DEDEDE00DEDEDE00DEDEDE00DEDEDE00B5B5B500C6C6C600C6C6C600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021292900212929005A5A5A008C8C8C008C8C8C00B5B5B500B5B5B500DEDEDE00DEDEDE00DEDEDE00FFFFFF00EFEFEF00EFEFEF00DEDEDE00DEDEDE00DEDEDE00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000313131008C8C8C008C8C8C00A5A5A500A5A5A500DEDEDE00EFEFEF00EFEFEF00DEE7EF00DEDEDE00DEDEDE00EFF7F700EFF7F700B5B5B50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080808000808080018212100182121008C8C8C00C6C6C600C6C6C600EFEFEF00DEDEDE00DEDEDE002929FF002929FF002929FF000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021730000217300002173000008080000080800182121001821210018212100080808000008E7000008E7000010C6000010C6000010C6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000217300002173000021730000217300002173000021730000217300080808001821210018212100080808000010C6000010C6000008E7000008E7000008E7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021730000217300002173000021730000217300002173000010C6000010C60000188C000010C6000010C6000010C6000008E7000008E7000010C6000010C6000008E7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021730000217300002173000021730000217300002173000008E7000008E7000010C60000188C0000188C000008E7000010C6000010C6000010C6000010C60000188C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021730000217300002173000021730000217300002173000008E7000008E70000217300002173000008E70000188C0000188C000010C6000010C6000010C6000008E7000008E7000010C600000000000000000000000000000000000000000000000000000000000000000000000000000000002929FF000008E7000008E7000010C6000010C6000021730000217300002173000008E7000008E7000008E7000010C6000010C6000010C6000010C6000010C6000008E7000008E7000008E7000010C6000010C60000000000000000000000000000000000000000000000000000000000000000000008E7002929FF002929FF000008E7002929FF002929FF000008E7000008E7000010C6000010C6000010C6002929FF000008E7000008E7000008E7000008E7000010C6000010C6000010C6000008E7000008E7000008E7000008E7000008E7000000000000000000000000000000000000000000000000000000000000000000000000000008E7000008E7000010C6000010C6000010C60000188C0000188C002929FF000008E7000008E7002929FF000008E7000008E7000008E7000008E7000010C6000010C6000010C6000010C6000010C6000010C6000010C6000010C6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002929FF002929FF000008E7000008E7002929FF002929FF002929FF000008E7000008E7000008E7000008E7000008E7000010C6000010C6000010C6000010C6000010C6000010C600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002929FF002929FF000008E7002929FF002929FF000008E7000008E7000008E7000008E7000008E7000008E7000010C6000010C6000010C6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002929FF002929FF002929FF000008E7000008E7002929FF002929FF000008E7000008E7000008E7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008E7000008E7000008E7000008E7000008E7000008E700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
        initresh0: 600
        initresw0: 800
        initts0: 0
        initx0: 0
        inity0: 0
        lang0: 0
        launchpath0: C:\Program Files (x86)\Microsoft Games\Age of Empires\Empires.exe
        maxddinterface0: 7
        maxfps0: 0
        maxres0: -1
        maxx0: 0
        maxy0: 0
        minx0: 0
        miny0: 0
        module0: None
        monitorid0: -1
        notes0: None
        opengllib0: None
        path0: C:\Program Files (x86)\Microsoft Games\Age of Empires\empires.exe
        posx0: 50
        posy0: 50
        registry0: None
        renderer0: 3
        scanline0: 0
        sizx0: 800
        sizy0: 600
        slowratio0: 2
        startfolder0: C:\Program Files (x86)\Microsoft Games\Age of Empires\
        swapeffect0: 0
        tflag0: 0
        title0: Age of Empires
        ver0: 0
        winver0: 0
    file: $GAMEDIR/drive_c/dxwnd/dxwnd.ini
- extract:
    dst: $GAMEDIR/drive_c/tmp/
    file: grepbin
- extract:
    dst: $GAMEDIR/drive_c/tmp/
    file: grepdep
- extract:
    dst: $GAMEDIR/drive_c/tmp/
    file: updt
- extract:
    dst: $GAMEDIR/drive_c/tmp/mplayer/
    file: mp
- extract:
    dst: $GAMEDIR/drive_c/tmp/bin
    file: gnusox
- task:
    executable: scriptsound
    name: wineexec
    prefix: $GAMEDIR
- input_menu:
    description: Please choose AOE I CD language (do not choose another language other
      than your CD's one)
    id: LANG
    options:
    - en: English
    - fr: French
    - ge: German
    - it: italian
    - sp: Spanish
    - po: Portuguese
    preselect: en
- task:
    app: icodecs
    name: winetricks
    prefix: $GAMEDIR
- task:
    app: directplay
    name: winetricks
    prefix: $GAMEDIR
- task:
    arch: win64
    key: csmt
    name: set_regedit
    path: HKEY_CURRENT_USER\Software\Wine\Direct3D\
    prefix: $GAMEDIR
    type: REG_DWORD
    value: '00000000'
- chmodx: scriptclean
- execute:
    args: $INPUT_LANG "$DISC" standard
    file: scriptclean
- task:
    arch: win64
    key: background
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Colors\
    prefix: $GAMEDIR
    type: REG_SZ
    value: 0 0 0
- task:
    app: win7
    name: winetricks
    prefix: $GAMEDIR
- write_file:
    content: '@echo off

      c:

      cd c:\dxwnd

      start dxwnd.exe /r:1

      exit'
    file: $GAMEDIR/drive_c/aoe1.bat
wine:
  Desktop: true

