custom-name: HERETIC II - Windows CD
files:
- dxwnd: https://freefr.dl.sourceforge.net/project/dxwnd/Latest%20build/v2_05_28_build.rar
- patch107w: http://heretics-hexens.ucoz.com/ht2_ep_v1-07.7z
- patch106l: https://github.com/liflg/heretic.2_1.06c-english_x86/archive/master.zip
- scriptcase: https://github.com/legluondunet/mlls-tools/raw/master/scripts/changecase.sh
- scriptlocal: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Heretic%20II/h2local.sh
- scriptws: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Heretic%20II/hereticiiws.sh
- scriptconf: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Heretic%20II/defconfig.sh
- scriptsound: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Heretic%20II/soundtrack.bat
- mp: https://freefr.dl.sourceforge.net/project/mplayer-win32/MPlayer%20and%20MEncoder/r38135%2Bgb272d5b9b6/MPlayer-generic-r38135%2Bgb272d5b9b6.7z
- gnusox: https://freefr.dl.sourceforge.net/project/sox/sox/14.4.2/sox-14.4.2-win32.zip
- grepbin: http://downloads.sourceforge.net/gnuwin32/grep-2.5.4-bin.zip
- grepdep: http://downloads.sourceforge.net/gnuwin32/grep-2.5.4-dep.zip
- menu: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Heretic%20II/HERETIC2.BAT
- faq: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Heretic%20II/faq.html
- gppreadme: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Heretic%20II/gamepad%20profiles/h2_gamepad_readme.html
- gppx360: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Heretic%20II/gamepad%20profiles/h2_x360.gamecontroller.amgp
- gppsc: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Heretic%20II/gamepad%20profiles/h2_steam.sccprofile
- wpp: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Heretic%20II/heretic2.bmp
game:
  args: c:\\heretic2.bat
  exe: drive_c/windows/syswow64/wineconsole.exe
  prefix: $GAMEDIR
installer:
- task:
    arch: win64
    description: Preparing Heretic II Windows CD wineprefix...
    name: create_prefix
    prefix: $GAMEDIR
- insert-disc:
    requires: h2_setup.exe
- task:
    args: /desktop=HereticII,1024x780 $DISC/h2_setup.exe
    description: Running setup of the game. Just proceed and keep all settings at
      their defaults
    executable: $GAMEDIR/drive_c/windows/explorer.exe
    name: wineexec
    include_processes: explorer.exe
    prefix: $GAMEDIR
- extract:
    dst: $GAMEDIR/drive_c/dxwnd
    file: dxwnd
- write_config:
    data:
      target:
        cdvol0: 64
        codepage0: 0
        commitaddress0: 0
        commitlength0: 0
        coord0: 3
        country0: 0
        dflag0: 0
        dflagb0: 0
        filterid0: 0
        flag0: 673194017
        flagg0: 1207959552
        flagh0: 22
        flagi0: 138444804
        flagj0: 4224
        flagk0: 65536
        flagl0: 0
        flagm0: 65536
        flagn0: 17825796
        flago0: 0
        flagp0: 8192
        flagq0: 0
        icon0: 0000010001002020000001002000B410000016000000280000002000000040000000010020000300000080100000000000000000000000000000000000000000FF0000FF0000FF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000408000FF000000FF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000D5008080FF400000FF000040CC0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B900000000000000000000000000000000000000FF000000FF000000FF000000FF00000000000000000000000000000000000000FF000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FF0000000000000000000000000000000000000000000040FF000000FF0000000000000000000000000000000000000000400000FF000000640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000FF004000FF0000000000000000000000000000000000000000000000000000000A000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009A000000000000000000000000000000000000000000000000000000FF000000FF000000000000000000000000000000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400080FF000000FF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FF00000000000000000000000000000000000000000000000000000000408080FF000000FF00000000000000000000000000000000000000000000000000000000000000FF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F600000000000000000000000000000000000000000000000000000000400080FF000000FF000000000000000000000000000000000000000000000000000000000000002000000041000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080FF0000008400000000000000000000000000000000000000000000000000000000408080FF000000FF0000000000000000000000000000000000000000000000000000000000000004000000FF000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000080FF000000FF00000000000000000000000000000000000000000000000000000000008080FF000000FF20008020000000000000000000000000000000000000000000000000000000D1000080FF000000FF00000000000000000000000000000000000000000000000000000000000000000000000000000000008080FF000000FF400080FF000000B000000000000000000000000000000000000000FF008080FF000080FF000080FF000080FF000000FF000000B100000000000000000000000000000040000080FF008080FF000000FF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000070000000BE0000000000000000000000000000000000000000000000000000000000000000000080FF008080FF000000040000000000000000000000000000000000000000000000000000000000000000000000FF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000204080FF000080FF000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080FF000080FF000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000508080FF000080FF000000280000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000408080FF000080FF000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000408080FF000080FF000000290000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080FF000000FF204000E30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080FF004000FF0040008600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080C0FF000000FF000000FF000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080FF000000000000000000000000000000000000000000000000008080FF80C0C0FF000080FF000080FF000000000000000000000000000000000000000000000000000080FF204000A2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F60000000000000000000000000000000000000000000000000000000000000020000080FF000080FF400000FF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000A0FF400000FF000000FF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000042008080FF400000FF404000FF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008080FF000080FF000000FF400080FF400080FF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000FF000080FF400080FF400080FF406080FF400080FF000000B000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
        initresh0: 600
        initresw0: 800
        initts0: 0
        lang0: 0
        launchpath0: C:\Program Files (x86)\Heretic II\heretic2.exe +set vid_ref glx
          +set vid_mode 3 +set vid_fullscreen 1
        maxddinterface0: 7
        maxfps0: 0
        maxres0: -1
        monitorid0: -1
        path0: C:\Program Files (x86)\Heretic II\heretic2.exe
        posx0: 50
        posy0: 50
        renderer0: 3
        scanline0: 0
        sizx0: 800
        sizy0: 600
        slowratio0: 2
        startfolder0: C:\Program Files (x86)\Heretic II\
        swapeffect0: 0
        tflag0: 0
        title0: Heretic II
        ver0: 0
        winver0: 0
    file: $GAMEDIR/drive_c/dxwnd/dxwnd.ini
- extract:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/tmp1/
    src: patch107w
- extract:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/tmp2/
    src: patch106l
- chmodx: scriptcase
- execute:
    args: '''$GAMEDIR/drive_c/Program Files (x86)/Heretic II/'' ''0'''
    file: scriptcase
- merge:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/
    src: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/tmp1/
- chmodx: scriptws
- execute:
    args: $RESOLUTION_WIDTH $RESOLUTION_HEIGHT
    file: scriptws
- input_menu:
    description: 'Please choose wich language you would like to install this game:'
    id: LANG
    options:
    - keep: I prefer to use default install language
    - fr: French
    - ge: German
    - it: Italian
    - sp: Spanish
    preselect: keep
- chmodx: scriptlocal
- execute:
    args: $INPUT_LANG
    file: scriptlocal
- chmodx: scriptconf
- execute:
    file: scriptconf
- extract:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/tmp3/
    file: mp
- extract:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/tmp3/
    file: gnusox
- extract:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/tmp3/
    file: grepbin
- extract:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/tmp3/
    file: grepdep
- task:
    executable: scriptsound
    name: wineexec
    prefix: $GAMEDIR
- move:
    dst: $GAMEDIR/drive_c/
    src: menu
- move:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/
    src: faq
- merge:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/gamepad profiles
    src: gppreadme
- copy:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/gamepad profiles
    src: gppx360
- copy:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Heretic II/gamepad profiles
    src: gppsc
- task:
    arch: win64
    key: csmt
    name: set_regedit
    path: HKEY_CURRENT_USER\Software\Wine\Direct3D\
    prefix: $GAMEDIR
    type: REG_DWORD
    value: '00000000'
- task:
    arch: win64
    key: EAXEnabled
    name: set_regedit
    path: HKEY_CURRENT_USER\Software\Wine\DirectSound
    prefix: $GAMEDIR
    type: REG_SZ
    value: Y
- move:
    dst: $GAMEDIR/drive_c/
    src: wpp
- task:
    arch: win64
    key: wallpaper
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Desktop\
    prefix: $GAMEDIR
    type: REG_SZ
    value: c:\\heretic2.bmp
- task:
    arch: win64
    key: background
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Colors\
    prefix: $GAMEDIR
    type: REG_SZ
    value: 0 0 0
- task:
    arch: win64
    key: ActiveTitle
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Colors\
    prefix: $GAMEDIR
    type: REG_SZ
    value: 0 0 0
- task:
    arch: win64
    key: GradientActiveTitle
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Colors\
    prefix: $GAMEDIR
    type: REG_SZ
    value: 204 153 255
- execute:
    command: cd "$GAMEDIR/drive_c/Program Files (x86)/Heretic II/" ; rm -f -r tmp1
      tmp2 tmp3;
wine:
  Desktop: true

