files:
- patch: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/OBSOLETE%20NO%20MORE%20MAINTAINED/Genshin%20Impact/gi_patch_230.zip
- giclient:
    filename: GenshinImpact_install_mihoyo.exe
    url: https://ys-api-os.mihoyo.com/event/download_porter/link/ys_global/genshinimpactpc/default
- menubat: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/OBSOLETE%20NO%20MORE%20MAINTAINED/Genshin%20Impact/gi_menu.bat
- menush: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/OBSOLETE%20NO%20MORE%20MAINTAINED/Genshin%20Impact/gi_menu.sh
game:
  args: c:\\menu.bat
  exe: drive_c/windows/syswow64/wineconsole.exe
  prefix: $GAMEDIR
installer:
- task:
    arch: win64
    install_gecko: false
    install_mono: false
    name: create_prefix
    prefix: $GAMEDIR
- task:
    app: vcrun2019 corefonts
    name: winetricks
    prefix: $GAMEDIR
- copy:
    dst: $GAMEDIR/drive_c
    src: menubat
- copy:
    dst: $GAMEDIR/drive_c
    src: menush
- chmodx: $GAMEDIR/drive_c/menu.sh
- extract:
    dst: $GAMEDIR/drive_c/gi_patch_230
    file: patch
    format: zip
- chmodx: $GAMEDIR/drive_c/gi_patch_230/ex_patch.sh
- task:
    description: Installing Genshin Impact...Close Geshin Impact client once finished
      download, do not execute the game yet.
    executable: giclient
    name: wineexec
    prefix: $GAMEDIR
require-binaries: xdelta3, xterm
system:
  manual_command: $GAMEDIR/drive_c/menu.sh
wine:
  Desktop: true
