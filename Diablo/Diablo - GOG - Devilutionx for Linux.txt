custom-name: Diablo - GOG - DevilutionX for Linux
files:
- diablosetup: N/A:Select the EXE downloaded from GOG
- dvltx: https://github.com/diasurgical/devilutionX/releases/download/1.2.0/devilutionx-linux-x86_64.appimage
- inno: https://constexpr.org/innoextract/files/innoextract-1.9/innoextract-1.9-linux.tar.xz
game:
  exe: $GAMEDIR/devilutionx-linux-x86_64.appimage
  prefix: $GAMEDIR
installer:
- copy:
    dst: $GAMEDIR
    src: dvltx
- extract:
    dst: $CACHE/innoextract
    file: inno
- execute:
    args: --extract $diablosetup --output-dir $CACHE/diabdat
    file: $CACHE/innoextract/innoextract
- move:
    dst: $GAMEDIR/diabdat.mpq
    src: $CACHE/diabdat/DIABDAT.MPQ
- chmodx: $GAMEDIR/devilutionx-linux-x86_64.appimage

